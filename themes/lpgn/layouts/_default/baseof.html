<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}" dir="{{ if .Site.Language.Params.rtl }}rtl{{ else }}ltr{{ end }}">
<head>
  {{- partial "head.html" . -}}
</head>
<body>
  <div class="site-wrapper">

    {{- partial "header.html" . -}}

    <main class="site-main" id="main-content" role="main">
      {{- block "main" . }}{{- end }}
    </main>

    {{- partial "footer.html" . -}}

  </div>

  <script>
    (function () {
      var burger = document.querySelector('.burger');
      var nav = document.getElementById('main-nav');
      if (!burger || !nav) return;

      function closeMenu() {
        burger.classList.remove('is-open');
        nav.classList.remove('is-open');
        burger.setAttribute('aria-expanded', 'false');
      }

      burger.addEventListener('click', function () {
        var isOpen = burger.classList.toggle('is-open');
        nav.classList.toggle('is-open', isOpen);
        burger.setAttribute('aria-expanded', String(isOpen));
      });

      // Close when a nav link is clicked
      nav.querySelectorAll('a').forEach(function (link) {
        link.addEventListener('click', closeMenu);
      });

      // Close on Escape
      document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape') closeMenu();
      });
    })();
  </script>
</body>
</html>
